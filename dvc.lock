schema: '2.0'
stages:
  data_preprocessing:
    cmd:
    - python scripts/preprocess_data.py
    deps:
    - path: ./feature_handling/feature_actions_adult_income.json
      md5: 2aeeb4a8319b945fa914c400e939e197
      size: 58
    - path: ./feature_handling/feature_actions_penguins.json
      md5: 861bff553bc372dc5cc343e909f69b4f
      size: 79
    - path: ./scripts/preprocess_data.py
      md5: fe66b68f2dd5ad815519e6821613024f
      size: 1836
    - path: ./utils/data.py
      md5: f0e7f3b7d68ac244ddac7b452e1d5a14
      size: 5191
    - path: ./utils/feature_handler.py
      md5: c37ecc5c73593a41e10789c8846aced0
      size: 12139
    - path: ./utils/params.py
      md5: edbe52eb8c2150cae39bb569e5a341af
      size: 1880
    params:
      params.yaml:
        data_preprocessing:
          feature_handler_dir: ./feature_handling/
          feature_action_file: ./feature_handling/feature_actions_penguins.json
          dataset_tag: penguins
          dataset_path: ./data/adult_income_dataset/adult.data
    outs:
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./feature_handling/feature_handler.json
      md5: dfb240b251b8a11fa558492ebc47fe47
      size: 2456
    - path: feature_handling/feature_handler_pretty_summary.json
      md5: 85530058600ceb2075fc5fa4246b76da
      size: 594
  train_autoembedder:
    cmd:
    - python scripts/train_autoembedder.py ./data/training_input/
    deps:
    - path: ./autoembedder/
      md5: 0d15e99b82580473ce08c4d8b2fb2517.dir
      size: 47709
      nfiles: 7
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./feature_handling/feature_handler.json
      md5: dfb240b251b8a11fa558492ebc47fe47
      size: 2456
    - path: ./scripts/train_autoembedder.py
      md5: f89147b450e5e06e3c9bbbaf50c3fbf1
      size: 3729
    - path: ./utils/data.py
      md5: f0e7f3b7d68ac244ddac7b452e1d5a14
      size: 5191
    - path: ./utils/feature_handler.py
      md5: c37ecc5c73593a41e10789c8846aced0
      size: 12139
    - path: ./utils/visualisation.py
      md5: 045be0b958d10c9e8da8583c009a1aee
      size: 1579
    params:
      params.yaml:
        train_autoembedder:
          output_directory: ./data/model
          feature_handler_file: ./feature_handling/feature_handler.json
          manual_encoder_architecture: []
          manual_decoder_architecture: []
          hidden_layer_activation_function: ReLU
          output_layer_activation_function: tanh
          test_data_fraction: 0.1
          val_data_fraction: 0.2
          embeddings_initializer: uniform
          normalisation_method: manual
          optimizer: adam
          loss: mse
          metrics: []
          learning_rate: 0.005
          batch_size: 32
          n_epochs: 10
    outs:
    - path: ./data/model/
      md5: 40d06cccc0737f92949a2c65b0128304.dir
      size: 271103
      nfiles: 4
  train_supervised_classification_embedding:
    cmd:
    - python scripts/supervised_classification_wembedding.py ./data/training_input/
    deps:
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./scripts/supervised_classification_wembedding.py
      md5: 62bb3d0c77cd993b96146fc8c93861aa
      size: 3913
    - path: ./utils/data.py
      md5: f0e7f3b7d68ac244ddac7b452e1d5a14
      size: 5191
    - path: ./utils/engine.py
      md5: 947de9a00d4aec5544307aca89598d75
      size: 1604
    - path: ./utils/utils.py
      md5: 60227dd636673cbb4aca6c83779eefd8
      size: 2217
    - path: ./utils/visualisation.py
      md5: 045be0b958d10c9e8da8583c009a1aee
      size: 1579
    params:
      params.yaml:
        train_classification_models:
          dataset_tag: penguins
          feature_handler_file: ./feature_handling/feature_handler.json
          hidden_layer_activation_function: relu
          output_layer_activation_function: softmax
          n_nodes_per_layer:
          - 108
          - 74
          - 50
          normalisation_method: manual
          test_data_fraction: 0.1
          val_data_fraction: 0.2
          embeddings_initializer: uniform
          optimizer: adam
          loss: cce
          learning_rate: 0.001
          metrics:
          - accuracy
          batch_size: 128
          n_epochs: 100
          verbosity_level: 1
    outs:
    - path: ./data/plots/
      md5: dc551f1d0e87090730c37aeb38b3c5e0.dir
      size: 28432
      nfiles: 2
  train_supervised_classification_autoembedding:
    cmd:
    - python scripts/supervised_classification_wembedding.py ./data/training_input/
      ./data/model/autoembedder
    deps:
    - path: ./data/model/
      md5: 40d06cccc0737f92949a2c65b0128304.dir
      size: 271103
      nfiles: 4
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./scripts/supervised_classification_wembedding.py
      md5: 62bb3d0c77cd993b96146fc8c93861aa
      size: 3913
    - path: ./utils/data.py
      md5: f0e7f3b7d68ac244ddac7b452e1d5a14
      size: 5191
    - path: ./utils/engine.py
      md5: 947de9a00d4aec5544307aca89598d75
      size: 1604
    - path: ./utils/utils.py
      md5: 60227dd636673cbb4aca6c83779eefd8
      size: 2217
    - path: ./utils/visualisation.py
      md5: 045be0b958d10c9e8da8583c009a1aee
      size: 1579
    params:
      params.yaml:
        train_classification_models:
          dataset_tag: penguins
          feature_handler_file: ./feature_handling/feature_handler.json
          hidden_layer_activation_function: relu
          output_layer_activation_function: softmax
          n_nodes_per_layer:
          - 108
          - 74
          - 50
          normalisation_method: manual
          test_data_fraction: 0.1
          val_data_fraction: 0.2
          embeddings_initializer: uniform
          optimizer: adam
          loss: cce
          learning_rate: 0.001
          metrics:
          - accuracy
          batch_size: 128
          n_epochs: 100
          verbosity_level: 1
