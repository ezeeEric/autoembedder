schema: '2.0'
stages:
  data_preprocessing:
    cmd:
    - python scripts/preprocess_data.py
    deps:
    - path: ./feature_handling/feature_actions.json
      md5: 861bff553bc372dc5cc343e909f69b4f
      size: 79
    - path: scripts/preprocess_data.py
      md5: bea00623484e72979177af6f938b5616
      size: 3464
    - path: utils/feature_handler.py
      md5: 9a04f8dac17bf76301bdb8c4e172a274
      size: 12139
    - path: utils/params.py
      md5: edbe52eb8c2150cae39bb569e5a341af
      size: 1880
    params:
      params.yaml:
        data_preprocessing:
          feature_handler_dir: ./feature_handling/
          feature_action_file: ./feature_handling/feature_actions.json
    outs:
    - path: data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: feature_handling/feature_handler.json
      md5: dfb240b251b8a11fa558492ebc47fe47
      size: 2456
    - path: feature_handling/feature_handler_pretty_summary.json
      md5: 85530058600ceb2075fc5fa4246b76da
      size: 594
  train_autoembedder:
    cmd:
    - python scripts/train_autoembedder.py ./data/training_input/
    deps:
    - path: ./autoembedder/
      md5: 6b128202b8f5f42d65e7e09875dd8fe1.dir
      size: 44712
      nfiles: 7
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./feature_handling/feature_handler.json
      md5: dfb240b251b8a11fa558492ebc47fe47
      size: 2456
    - path: ./utils/feature_handler.py
      md5: 9a04f8dac17bf76301bdb8c4e172a274
      size: 12139
    - path: scripts/train_autoembedder.py
      md5: 6c359e17b7a515f3767ec0f0b5d41dca
      size: 6747
    params:
      params.yaml:
        train_autoembedder:
          output_directory: ./data/model
          feature_handler_file: ./feature_handling/feature_handler.json
          manual_encoder_architecture:
          - 8
          - 6
          - 4
          manual_decoder_architecture: []
          activation_function: ReLU
          test_data_fraction: 0.2
          embeddings_initializer: uniform
          normalisation_method: manual
          optimizer: adam
          loss: mse
          learning_rate: 0.005
          metric:
          - accuracy
          - precision
          batch_size: 64
          epochs: 100
    outs:
    - path: ./data/model/
      md5: 7ae739de03d6d911c6385a3ce9481df4.dir
      size: 271030
      nfiles: 4
  train_supervised_classification_embedding:
    cmd:
    - python scripts/supervised_classification_wembedding.py ./data/training_input/
    deps:
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./scripts/supervised_classification_wembedding.py
      md5: 439c1951d58dffd34f653f0ec0ea5d64
      size: 4644
    params:
      params.yaml:
        train_simple_classification_model:
          feature_handler_file: ./feature_handling/feature_handler.json
          activation_function: ReLU
          normalisation_method: manual
          test_data_fraction: 0.2
          embeddings_initializer: uniform
          optimizer: adam
          loss: cce
          learning_rate: 0.1
          metrics:
          - accuracy
          batch_size: 32
          epochs: 100
  train_supervised_classification_autoembedding:
    cmd:
    - python scripts/supervised_classification_wautoembedding.py ./data/training_input/
      ./data/model/autoembedder
    deps:
    - path: ./data/training_input/
      md5: 76518463305c60240aba1a1514d686a0.dir
      size: 12754
      nfiles: 1
    - path: ./scripts/supervised_classification_wautoembedding.py
      md5: eabf5cbf3663d467f9d24801c5a640f3
      size: 4115
    params:
      params.yaml:
        train_simple_classification_model:
          feature_handler_file: ./feature_handling/feature_handler.json
          activation_function: ReLU
          normalisation_method: manual
          test_data_fraction: 0.2
          embeddings_initializer: uniform
          optimizer: adam
          loss: cce
          learning_rate: 0.1
          metrics:
          - accuracy
          batch_size: 32
          epochs: 100
